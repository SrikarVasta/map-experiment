import { NextResponse } from "next/server";

// let shapes = [
//   {
//     type: "Star",
//     coordinates: [
//       [
//         [-10941774.093703765, 5849726.30320556],
//         [-11110422.173675667, 5695935.26857105],
//         [-11307984.428768573, 5810228.8054608],
//         [-11259121.525886746, 5587279.766588408],
//         [-11456883.759868097, 5473332.603293886],
//         [-11239372.777014365, 5404174.599056004],
//         [-11239572.755902812, 5175933.898871732],
//         [-11070924.67593091, 5329724.933506242],
//         [-10873362.420838006, 5215431.3966164915],
//         [-10922225.323719831, 5438380.435488884],
//         [-10724463.08973848, 5552327.5987834055],
//         [-10941974.072592212, 5621485.603021287],
//         [-10941774.093703765, 5849726.30320556],
//       ],
//     ],
//   },
//   {
//     type: "Square",
//     coordinates: [
//       [
//         [-12995484.16966988, 5763352.461243311],
//         [-12897587.44569364, 5868969.325076355],
//         [-13003204.309526684, 5966866.049052594],
//         [-13101101.033502923, 5861249.1852195505],
//         [-12995484.16966988, 5763352.461243311],
//       ],
//     ],
//   },
// ]; // In-memory storage for demonstration purposes

let shapes = [
  {
    id: 2,
    type: "Star",
    coordinates: [
      [
        [-10941774.093703765, 5849726.30320556],
        [-11110422.173675667, 5695935.26857105],
        [-11307984.428768573, 5810228.8054608],
        [-11259121.525886746, 5587279.766588408],
        [-11456883.759868097, 5473332.603293886],
        [-11239372.777014365, 5404174.599056004],
        [-11239572.755902812, 5175933.898871732],
        [-11070924.67593091, 5329724.933506242],
        [-10873362.420838006, 5215431.3966164915],
        [-10922225.323719831, 5438380.435488884],
        [-10724463.08973848, 5552327.5987834055],
        [-10941974.072592212, 5621485.603021287],
        [-10941774.093703765, 5849726.30320556],
      ],
    ],
  },
];
export async function GET() {
  return NextResponse.json({
    shapes,
  });
}

export async function POST(req: Request) {
  const data = await req.json();
  shapes.push(data);
  console.log(shapes);
  return NextResponse.json({
    shapes,
  });
}
